{{define "content"}}
<!-- Login Page -->
<section class="h-full">
  <div
    x-data="{ login: true }"
    class="flex min-h-full flex-col justify-center px-6 py-12 lg:px-8"
  >
    <!-- Login Form div -->
    <div
      class="mt-20 sm:mx-auto sm:w-full sm:max-w-sm p-6 rounded-lg border-2 border-indigo-400 bg-white scale-110"
      x-cloak
    >
      <!-- Login Form Header -->
      <div class="sm:mx-auto sm:w-full sm:max-w-sm">
        <img
          class="mx-auto h-10 w-auto"
          src="data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiAgd2lkdGg9IjI0IiAgaGVpZ2h0PSIyNCIgIHZpZXdCb3g9IjAgMCAyNCAyNCIgIGZpbGw9Im5vbmUiICBzdHJva2U9ImN1cnJlbnRDb2xvciIgIHN0cm9rZS13aWR0aD0iMiIgIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgIHN0cm9rZS1saW5lam9pbj0icm91bmQiICBjbGFzcz0iaWNvbiBpY29uLXRhYmxlciBpY29ucy10YWJsZXItb3V0bGluZSBpY29uLXRhYmxlci1tZXNzYWdlcyI+PHBhdGggc3Ryb2tlPSJub25lIiBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTIxIDE0bC0zIC0zaC03YTEgMSAwIDAgMSAtMSAtMXYtNmExIDEgMCAwIDEgMSAtMWg5YTEgMSAwIDAgMSAxIDF2MTAiIC8+PHBhdGggZD0iTTE0IDE1djJhMSAxIDAgMCAxIC0xIDFoLTdsLTMgM3YtMTBhMSAxIDAgMCAxIDEgLTFoMiIgLz48L3N2Zz4="
          alt="Simple-Chat App Logo"
        />
        <h2
          class="mt-10 text-center text-2xl/9 font-bold tracking-tight text-gray-900 mb-10"
          x-text="login ? 'Login in to your account' : 'Sign up for a new account'"
        ></h2>
      </div>

      <!-- Login/signup Form -->
      <form
        class="space-y-6"
        :action="login ? '/login' : '/signup'"
        method="post"
      >
        <!-- Login form input field -->
        <template x-if="login">
          <template
            x-for="field in [
          {name:'username', label:'Username', complete:'username', type:'text', placeholder:'eg. user_name_123'},
          {name:'password', label:'Password', complete:'current-password', type:'password', placeholder:'eg. xxxxxxxx'},
          ]"
          >
            {{template "input" .}}
          </template>
        </template>

        <!-- Signup form input field -->
        <template x-if="!login">
          <template
            x-for="field in [
            {name:'username', label:'Username', complete:'username', type:'text', placeholder:'eg. user_name_123'},
            {name:'email', label:'Email', complete:'email', type:'text', placeholder:'eg. user@email.com'},
            {name:'password', label:'Password', complete:'new-password', type:'password', placeholder:'eg. xxxxxxxx'},
            {name:'confirm-password', label:'Confirm Password', complete:'new-password', type:'password', placeholder:'eg. xxxxxxxx'},
          ]"
          >
            {{template "input" .}}
          </template>
        </template>

        <!-- Login/signup Button -->
        <button
          x-text="login ? 'Login' : 'Sign Up'"
          type="submit"
          class="flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm/6 font-semibold text-white shadow-xs hover:bg-indigo-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
        ></button>
      </form>

      <!-- Signup/Login Link -->
      <p class="mt-10 text-center text-sm/6 text-gray-500">
        <span
          x-text="login ? 'Are you a new user? then' : 'Already a user? then'"
        ></span>
        <a
          @click="login ? login = false : login = true"
          class="font-semibold text-indigo-600 hover:text-indigo-500"
          x-text="login ? 'Sign up' : 'Login'"
        ></a>
        here!
      </p>
    </div>
  </div>
  <style>
    [x-cloak] {
      display: none;
    }
  </style>
</section>
{{end}}

<!-- Input Field Component -->
{{define "input"}}
<div class="space-y-1 mb-4" x-data="{ disable: false }">
  <label
    :for="field.name"
    class="block text-sm/6 font-medium text-gray-900"
    x-text="field.label"
  ></label>
  <input
    class="block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-500 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6 border-2 border-indigo-100 focus:border-transparent"
    :type="field.type"
    :name="field.name"
    :id="field.name"
    :autocomplete="field.complete"
    :placeholder="field.placeholder"
    required
  />
</div>
{{end}}
